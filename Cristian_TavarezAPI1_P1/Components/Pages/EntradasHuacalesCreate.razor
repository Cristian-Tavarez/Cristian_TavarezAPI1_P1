@page "/entradashuacales/create"
@rendermode InteractiveServer
@using Cristian_TavarezAPI1_P1.Models
@using Cristian_TavarezAPI1_P1.Services
@inject EntradasHuacalesService service
@inject NavigationManager nav

<div class="row justify-content-center mt-4">
    <div class="col-md-6">
        <div class="card shadow-sm">
            <div class="card-header text-center">
                <h4>Nueva Entrada de Huacales</h4>
            </div>

            <div class="card-body">
                <EditForm Model="entrada" OnValidSubmit="Guardar">
                    <DataAnnotationsValidator />
                    <ValidationSummary />

                    <div class="mb-3">
                        <label>Cliente</label>
                        <InputText class="form-control" @bind-Value="entrada.NombreCliente" />
                    </div>

                    <div class="mb-3">
                        <label>Cantidad</label>
                        <InputNumber class="form-control" @bind-Value="entrada.Cantidad" />
                    </div>

                    <div class="mb-3">
                        <label>Fecha</label>
                        <InputDate class="form-control" @bind-Value="entrada.Fecha" />
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <button type="button" class="btn btn-secondary" @onclick="Volver">← Volver</button>
                        <button type="submit" class="btn btn-success">Guardar</button>
                    </div>
                </EditForm>
            </div>
        </div>
    </div>
</div>

@code {
    EntradaHuacales entrada = new();

    async Task Guardar()
    {
        await service.GuardarAsync(entrada);
        nav.NavigateTo("/entradashuacales");
    }

    void Volver()
    {
        nav.NavigateTo("/entradashuacales");
    }
}
